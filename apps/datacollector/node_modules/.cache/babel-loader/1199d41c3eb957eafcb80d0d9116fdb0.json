{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\webWork\\\\evilcook\\\\src\\\\logic\\\\jsonbuilder.jsx\";\nimport React, { useRef } from 'react';\nimport './jsonbuilder.css';\nvar viewport = {\n  height: window.innerHeight,\n  width: window.innerWidth\n};\nvar resizeStartValues = {\n  x: 0,\n  y: 0\n};\nvar resizeOffset = {\n  x: 0,\n  y: 0\n};\nvar startPos = {\n  x: 0,\n  y: 0\n};\nvar dragOffset = {\n  x: 0,\n  y: 0\n};\nvar hitBox = {\n  top: {\n    val: 0,\n    drop: 0,\n    hit: false\n  },\n  right: {\n    val: 0,\n    drop: 0,\n    hit: false\n  },\n  bottom: {\n    val: 0,\n    drop: 0,\n    hit: false\n  },\n  left: {\n    val: 0,\n    drop: 0,\n    hit: false\n  }\n};\nlet logTick = true;\n\nconst logTimer = () => {\n  logTick = false;\n  setTimeout(() => {\n    logTick = true;\n  }, 200);\n};\n\nvar mouseMove, mouseUp, resizeMove, resizeEnd;\n\nconst JSONBuilder = () => {\n  function handleMouseMove(e, el, container) {\n    e.stopPropagation();\n    e.preventDefault();\n    let screenPos = container.getBoundingClientRect();\n    hitBox.top.val = screenPos.top;\n    hitBox.right.val = screenPos.right;\n    hitBox.bottom.val = screenPos.bottom;\n    hitBox.left.val = screenPos.left; // hit detection top & bottom\n\n    if (hitBox.top.val >= 0 && !hitBox.top.hit && hitBox.bottom.val <= viewport.height && !hitBox.bottom.hit) {\n      dragOffset.y = e.screenY - startPos.y;\n    } else if (hitBox.top.val <= 0 && !hitBox.top.hit) {\n      !hitBox.bottom.hit && (hitBox.top.hit = true);\n      hitBox.top.drop = e.screenY;\n    } else if (e.screenY > hitBox.top.drop && hitBox.top.hit) {\n      hitBox.top.hit = false;\n      !hitBox.bottom.hit && (dragOffset.y += 1);\n    } else if (hitBox.bottom.val >= viewport.height && !hitBox.bottom.hit) {\n      !hitBox.top.hit && (hitBox.bottom.hit = true);\n      hitBox.bottom.drop = e.screenY;\n    } else if (e.screenY < hitBox.bottom.drop && hitBox.bottom.hit) {\n      hitBox.bottom.hit = false;\n      !hitBox.top.hit && (dragOffset.y -= 1);\n    } // hit detection left & right\n\n\n    if (hitBox.left.val >= 0 && !hitBox.left.hit && hitBox.right.val <= viewport.width && !hitBox.right.hit) {\n      dragOffset.x = e.screenX - startPos.x;\n    } else if (hitBox.left.val <= 0 && !hitBox.left.hit) {\n      !hitBox.right.hit && (hitBox.left.hit = true);\n      hitBox.left.drop = e.screenX;\n    } else if (e.screenX > hitBox.left.drop && hitBox.left.hit) {\n      hitBox.left.hit = false;\n      !hitBox.right.hit && (dragOffset.x += 1);\n    } else if (hitBox.right.val >= 0 && !hitBox.right.hit) {\n      !hitBox.left.hit && (hitBox.right.hit = true);\n      hitBox.right.drop = e.screenX;\n    } else if (e.screenX < hitBox.right.drop && hitBox.right.hit) {\n      hitBox.right.hit = false;\n      !hitBox.left.hit && (dragOffset.x -= 1);\n    } // logTick && console.log(`screeX:  ${e.screenX}\\n`, `dragOffsetX:  ${dragOffset.x}`);\n    // logTick && console.log(`hitRight:  ${hitBox.right.hit}\\n`, `hitLeft:  ${hitBox.left.hit}`);\n    // logTick && console.log(`leftDrop:  ${hitBox.left.drop}\\n`, `leftVal:  ${hitBox.left.val}`);\n    // logTick && console.log(`rightDrop:  ${hitBox.right.drop}\\n`, `rightVal:  ${hitBox.right.val}`, `vpHeight:  ${viewport.width}`);\n    //____________________________________________________________________________________________________________\n    // logTick && console.log(`screeY:  ${e.screenY}\\n`, `dragOffsetY:  ${dragOffset.y}`);\n    // logTick && console.log(`hitBottom:  ${hitBox.bottom.hit}\\n`, `hitTop:  ${hitBox.top.hit}`);\n    // logTick && console.log(`topDrop:  ${hitBox.top.drop}\\n`, `topVal:  ${hitBox.top.val}`);\n    // logTick && console.log(`bottomDrop:  ${hitBox.bottom.drop}\\n`, `bottomVal:  ${hitBox.bottom.val}`, `vpHeight:  ${viewport.height}`);\n    // logTick && console.log(e.screenX, hitBox.right.drop, dragOffset.x, hitBox.right.val, viewport.width, hitBox.right.hit);\n\n\n    container.style.transform = `translate3d( ${dragOffset.x}px, ${dragOffset.y}px,0 )`; // logTick && logTimer();\n  }\n\n  function handleMouseUp(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    window.removeEventListener('mousemove', mouseMove);\n    window.removeEventListener('mouseup', mouseUp);\n    hitBox.top.drop = 0;\n    hitBox.right.drop = viewport.width;\n    hitBox.bottom.drop = viewport.height;\n    hitBox.left.drop = 0;\n  }\n\n  function handleMouseDown(e) {\n    let container = e.target.parentElement;\n    e.stopPropagation();\n    e.preventDefault();\n\n    mouseMove = event => handleMouseMove(event, e, container);\n\n    mouseUp = event => handleMouseUp(event, e);\n\n    window.addEventListener('mousemove', mouseMove);\n    window.addEventListener('mouseup', mouseUp);\n    startPos = {\n      x: e.screenX - dragOffset.x,\n      y: e.screenY - dragOffset.y\n    };\n  }\n\n  function handleResizeMove(e, el, container, handle, vals) {\n    if (handle === 'bottom') {\n      container.style.height = `${resizeStartValues.height + e.screenY - resizeStartValues.y}px`;\n    } else {\n      if (handle === 'left') {\n        container.style.left = resizeStartValues.left; // container.style.right = 'auto';\n\n        container.style.width = `${resizeStartValues.width + resizeStartValues.x - e.screenX}px`;\n      } else {\n        container.style.right = resizeStartValues.right;\n        container.style.left = 'auto';\n        container.style.width = `${resizeStartValues.width + resizeStartValues.x - e.screenX}px`;\n      }\n    }\n\n    logTick && logTimer();\n  }\n\n  function handleResizeEnd(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    window.removeEventListener('mousemove', resizeMove);\n    window.removeEventListener('mouseup', resizeEnd);\n  }\n\n  function handleStartResize(e) {\n    let container = e.target.parentElement;\n    let handle = e.target.dataset.rh;\n    let box = container.getBoundingClientRect();\n    console.log(box);\n    resizeStartValues = {\n      x: e.screenX,\n      y: e.screenY,\n      height: box.height,\n      width: box.width,\n      left: box.left,\n      right: box.right\n    };\n    e.stopPropagation();\n    e.preventDefault();\n\n    resizeMove = event => handleResizeMove(event, e, container, handle);\n\n    resizeEnd = event => handleResizeEnd(event, e);\n\n    window.addEventListener('mousemove', resizeMove);\n    window.addEventListener('mouseup', resizeEnd);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `JSON-Builder`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `JSON-Builder-Header`,\n      onMouseDown: handleMouseDown\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `JSON-Builder-Handle-Bottom`,\n      onMouseDown: handleStartResize,\n      \"data-rh\": \"bottom\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `JSON-Builder-Handle-Right`,\n      onMouseDown: handleStartResize,\n      \"data-rh\": \"right\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `JSON-Builder-Handle-Left`,\n      onMouseDown: handleStartResize,\n      \"data-rh\": \"left\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 3\n  }, this);\n};\n\n_c = JSONBuilder;\nexport default JSONBuilder;\n\nvar _c;\n\n$RefreshReg$(_c, \"JSONBuilder\");","map":{"version":3,"sources":["C:/webWork/evilcook/src/logic/jsonbuilder.jsx"],"names":["React","useRef","viewport","height","window","innerHeight","width","innerWidth","resizeStartValues","x","y","resizeOffset","startPos","dragOffset","hitBox","top","val","drop","hit","right","bottom","left","logTick","logTimer","setTimeout","mouseMove","mouseUp","resizeMove","resizeEnd","JSONBuilder","handleMouseMove","e","el","container","stopPropagation","preventDefault","screenPos","getBoundingClientRect","screenY","screenX","style","transform","handleMouseUp","removeEventListener","handleMouseDown","target","parentElement","event","addEventListener","handleResizeMove","handle","vals","handleResizeEnd","handleStartResize","dataset","rh","box","console","log"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react';\r\nimport './jsonbuilder.css';\r\n\r\n\r\n\r\nvar viewport = {\r\n\theight: window.innerHeight,\r\n\twidth: window.innerWidth,\r\n}\r\n\r\nvar resizeStartValues = { x: 0, y: 0 }\r\nvar resizeOffset = { x: 0, y: 0 }\r\nvar startPos = { x: 0, y: 0 }\r\nvar dragOffset = { x: 0, y: 0 }\r\nvar hitBox = {\r\n\ttop: {\r\n\t\tval: 0,\r\n\t\tdrop: 0,\r\n\t\thit: false,\r\n\t},\r\n\tright: {\r\n\t\tval: 0,\r\n\t\tdrop: 0,\r\n\t\thit: false,\r\n\t},\r\n\tbottom: {\r\n\t\tval: 0,\r\n\t\tdrop: 0,\r\n\t\thit: false,\r\n\t},\r\n\tleft: {\r\n\t\tval: 0,\r\n\t\tdrop: 0,\r\n\t\thit: false,\r\n\t}\r\n}\r\n\r\nlet logTick = true;\r\nconst logTimer = () => {\r\n\tlogTick = false;\r\n\tsetTimeout(()=>{\r\n\t\tlogTick = true;\r\n\t}, 200);\r\n}\r\nvar mouseMove, mouseUp, resizeMove, resizeEnd;\r\nconst JSONBuilder = () => {\r\n\r\n\tfunction handleMouseMove(e, el, container) {\r\n\t\te.stopPropagation();\r\n    e.preventDefault();\r\n\t\tlet screenPos = container.getBoundingClientRect();\r\n\t\thitBox.top.val = screenPos.top;\r\n\t\thitBox.right.val = screenPos.right;\r\n\t\thitBox.bottom.val = screenPos.bottom;\r\n\t\thitBox.left.val = screenPos.left;\r\n\r\n\t\t\r\n\t\t// hit detection top & bottom\r\n\t\tif ( hitBox.top.val >= 0 && !hitBox.top.hit && hitBox.bottom.val <= viewport.height && !hitBox.bottom.hit ) {\r\n\t\t\tdragOffset.y = e.screenY - startPos.y;\r\n\t\t} else if ( hitBox.top.val <= 0 && !hitBox.top.hit ) {\r\n\t\t\t!hitBox.bottom.hit && (hitBox.top.hit = true);\r\n\t\t\thitBox.top.drop = e.screenY;\r\n\t\t} else if ( e.screenY > hitBox.top.drop && hitBox.top.hit ) {\r\n\t\t\thitBox.top.hit = false;\r\n\t\t\t!hitBox.bottom.hit && (dragOffset.y += 1);\r\n\t\t} else if ( hitBox.bottom.val >= viewport.height && !hitBox.bottom.hit ) {\r\n\t\t\t!hitBox.top.hit && (hitBox.bottom.hit = true);\r\n\t\t\thitBox.bottom.drop = e.screenY;\r\n\t\t} else if ( e.screenY < hitBox.bottom.drop && hitBox.bottom.hit ) {\r\n\t\t\thitBox.bottom.hit = false;\r\n\t\t\t!hitBox.top.hit && (dragOffset.y -= 1);\r\n\t\t}\r\n\t\t\r\n\t\t// hit detection left & right\r\n\t\tif ( hitBox.left.val >= 0 && !hitBox.left.hit && hitBox.right.val <= viewport.width && !hitBox.right.hit ) {\r\n\t\t\tdragOffset.x = e.screenX - startPos.x;\r\n\t\t} else if ( hitBox.left.val <= 0 && !hitBox.left.hit ) {\r\n\t\t\t!hitBox.right.hit && (hitBox.left.hit = true);\r\n\t\t\thitBox.left.drop = e.screenX;\r\n\t\t} else if ( e.screenX > hitBox.left.drop && hitBox.left.hit ) {\r\n\t\t\thitBox.left.hit = false;\r\n\t\t\t!hitBox.right.hit && (dragOffset.x += 1);\r\n\t\t} else if ( hitBox.right.val >= 0 && !hitBox.right.hit ) {\r\n\t\t\t!hitBox.left.hit && (hitBox.right.hit = true);\r\n\t\t\thitBox.right.drop = e.screenX;\r\n\t\t} else if ( e.screenX < hitBox.right.drop && hitBox.right.hit ) {\r\n\t\t\thitBox.right.hit = false;\r\n\t\t\t!hitBox.left.hit && (dragOffset.x -= 1);\r\n\t\t}\r\n\r\n\r\n\r\n\t\t// logTick && console.log(`screeX:  ${e.screenX}\\n`, `dragOffsetX:  ${dragOffset.x}`);\r\n\t\t// logTick && console.log(`hitRight:  ${hitBox.right.hit}\\n`, `hitLeft:  ${hitBox.left.hit}`);\r\n\t\t// logTick && console.log(`leftDrop:  ${hitBox.left.drop}\\n`, `leftVal:  ${hitBox.left.val}`);\r\n\t\t// logTick && console.log(`rightDrop:  ${hitBox.right.drop}\\n`, `rightVal:  ${hitBox.right.val}`, `vpHeight:  ${viewport.width}`);\r\n\t\t//____________________________________________________________________________________________________________\r\n\t\t// logTick && console.log(`screeY:  ${e.screenY}\\n`, `dragOffsetY:  ${dragOffset.y}`);\r\n\t\t// logTick && console.log(`hitBottom:  ${hitBox.bottom.hit}\\n`, `hitTop:  ${hitBox.top.hit}`);\r\n\t\t// logTick && console.log(`topDrop:  ${hitBox.top.drop}\\n`, `topVal:  ${hitBox.top.val}`);\r\n\t\t// logTick && console.log(`bottomDrop:  ${hitBox.bottom.drop}\\n`, `bottomVal:  ${hitBox.bottom.val}`, `vpHeight:  ${viewport.height}`);\r\n\t\t\r\n\r\n\r\n\r\n\t\t// logTick && console.log(e.screenX, hitBox.right.drop, dragOffset.x, hitBox.right.val, viewport.width, hitBox.right.hit);\r\n\t\t\r\n    \r\n\t\tcontainer.style.transform = `translate3d( ${ dragOffset.x }px, ${ dragOffset.y }px,0 )`;\r\n\t\t// logTick && logTimer();\r\n  }\r\n\r\n  function handleMouseUp(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\t\twindow.removeEventListener( 'mousemove', mouseMove );\r\n\t\twindow.removeEventListener( 'mouseup', mouseUp );\r\n\t\thitBox.top.drop = 0;\r\n\t\thitBox.right.drop = viewport.width;\r\n\t\thitBox.bottom.drop = viewport.height;\r\n\t\thitBox.left.drop = 0;\r\n  }\r\n\r\n  function handleMouseDown(e) {\r\n\t\tlet container = e.target.parentElement;\r\n\t\te.stopPropagation();\r\n    e.preventDefault();\r\n\t\tmouseMove = (event) => handleMouseMove(event, e, container);\r\n\t\tmouseUp = (event) => handleMouseUp(event, e);\r\n\t\twindow.addEventListener( 'mousemove', mouseMove );\r\n\t\twindow.addEventListener( 'mouseup', mouseUp );\r\n\t\tstartPos = {\r\n\t\t\tx: e.screenX - dragOffset.x,\r\n\t\t\ty: e.screenY - dragOffset.y,\r\n\t\t}\r\n  }\r\n\r\n\tfunction handleResizeMove(e, el, container, handle, vals) {\r\n\t\tif ( handle === 'bottom' ) {\r\n\t\t\tcontainer.style.height = `${resizeStartValues.height + e.screenY - resizeStartValues.y}px`;\r\n\t\t} else {\r\n\t\t\tif ( handle === 'left' ) {\r\n\t\t\t\tcontainer.style.left = resizeStartValues.left;\r\n\t\t\t\t// container.style.right = 'auto';\r\n\t\t\t\tcontainer.style.width = `${resizeStartValues.width + resizeStartValues.x - e.screenX}px`;\r\n\t\t\t} else {\r\n\t\t\t\tcontainer.style.right = resizeStartValues.right;\r\n\t\t\t\tcontainer.style.left = 'auto';\r\n\t\t\t\tcontainer.style.width = `${resizeStartValues.width + resizeStartValues.x - e.screenX}px`;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tlogTick && logTimer();\r\n\t}\r\n\r\n\tfunction handleResizeEnd(e) {\r\n\t\te.stopPropagation();\r\n    e.preventDefault();\r\n\t\twindow.removeEventListener( 'mousemove', resizeMove );\r\n\t\twindow.removeEventListener( 'mouseup', resizeEnd );\r\n\t}\r\n\r\n\tfunction handleStartResize(e) {\r\n\t\tlet container = e.target.parentElement;\r\n\t\tlet handle = e.target.dataset.rh;\r\n\t\tlet box = container.getBoundingClientRect();\r\n\t\tconsole.log(box)\r\n\t\tresizeStartValues = {\r\n\t\t\tx: e.screenX,\r\n\t\t\ty: e.screenY,\r\n\t\t\theight: box.height,\r\n\t\t\twidth: box.width,\r\n\t\t\tleft: box.left,\r\n\t\t\tright: box.right,\r\n\t\t}\r\n\t\te.stopPropagation();\r\n    e.preventDefault();\r\n\t\tresizeMove = (event) => handleResizeMove(event, e, container, handle);\r\n\t\tresizeEnd = (event) => handleResizeEnd(event, e);\r\n\t\twindow.addEventListener( 'mousemove', resizeMove );\r\n\t\twindow.addEventListener( 'mouseup', resizeEnd );\r\n\t\t\r\n\t}\r\n\r\n\treturn(\r\n\t\t<div className={ `JSON-Builder` } >\r\n\t\t\t<div className={ `JSON-Builder-Header` } onMouseDown={ handleMouseDown }></div>\r\n\t\t\t<div className={ `JSON-Builder-Handle-Bottom` } onMouseDown={ handleStartResize } data-rh=\"bottom\"></div>\r\n\t\t\t<div className={ `JSON-Builder-Handle-Right` } onMouseDown={ handleStartResize } data-rh=\"right\"></div>\r\n\t\t\t<div className={ `JSON-Builder-Handle-Left` } onMouseDown={ handleStartResize } data-rh=\"left\"></div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default JSONBuilder;"]},"metadata":{},"sourceType":"module"}