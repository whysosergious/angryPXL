{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\webWork\\\\evilcook\\\\src\\\\logic\\\\jsonbuilder.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './jsonbuilder.css';\nimport './syntaxhighlight';\nexport const builderHook = {};\n\nconst handleChange = (event, obj) => {\n  console.log(event.target.dataset.zcm);\n  console.log(obj);\n  obj[event.target.dataset.zcm] = event.target.innerText;\n};\n\nconst setEdit = event => {\n  event.target.setAttribute('contenteditable', '');\n};\n\nconst unsetEdit = event => {\n  event.target.removeAttribute('contenteditable');\n};\n\nconst prepArray = [];\nconst prepObj = {};\nvar viewport = {\n  height: window.innerHeight,\n  width: window.innerWidth\n};\nvar resizeStartValues = {\n  x: 0,\n  y: 0\n};\nvar startPos = {\n  x: 0,\n  y: 0\n};\nvar dragOffset = {\n  x: 0,\n  y: 0\n};\nvar hitBox = {\n  top: {\n    val: 0,\n    drop: 0,\n    hit: false\n  },\n  right: {\n    val: 0,\n    drop: 0,\n    hit: false\n  },\n  bottom: {\n    val: 0,\n    drop: 0,\n    hit: false\n  },\n  left: {\n    val: 0,\n    drop: 0,\n    hit: false\n  }\n};\n\nconst findRealParent = (el, name) => {\n  let realParent = el.parentElement;\n\n  while (realParent.dataset.zmain !== name) {\n    realParent = realParent.parentElement;\n  }\n\n  return realParent;\n};\n\nconst generateRandomString = () => {\n  return Math.random().toString(36).substring(2, 15); // + Math.random().toString(36).substring(2, 15)\n};\n\nconst builderDims = {\n  height: 0,\n  width: 0\n};\nlet logTick = true;\n\nconst logTimer = () => {\n  logTick = false;\n  setTimeout(() => {\n    logTick = true;\n  }, 200);\n};\n\nvar mouseMove, mouseUp, resizeMove, resizeEnd;\n\nconst JSONBuilder = () => {\n  _s();\n\n  const [toggleMinimizeState, setToggleMinimize] = useState('open');\n  const [list, setList] = useState(null);\n\n  function handleMouseMove(e, el, container) {\n    e.stopPropagation();\n    e.preventDefault();\n    let screenPos = container.getBoundingClientRect();\n    hitBox.top.val = screenPos.top;\n    hitBox.right.val = screenPos.right;\n    hitBox.bottom.val = screenPos.bottom;\n    hitBox.left.val = screenPos.left; // hit detection top & bottom\n\n    if (hitBox.top.val >= 0 && !hitBox.top.hit && hitBox.bottom.val <= viewport.height && !hitBox.bottom.hit) {\n      dragOffset.y = e.screenY - startPos.y;\n    } else if (hitBox.top.val <= 0 && !hitBox.top.hit) {\n      !hitBox.bottom.hit && (hitBox.top.hit = true);\n      hitBox.top.drop = e.screenY;\n    } else if (e.screenY > hitBox.top.drop && hitBox.top.hit) {\n      hitBox.top.hit = false;\n      !hitBox.bottom.hit && (dragOffset.y += 1);\n    } else if (hitBox.bottom.val >= viewport.height && !hitBox.bottom.hit) {\n      !hitBox.top.hit && (hitBox.bottom.hit = true);\n      hitBox.bottom.drop = e.screenY;\n    } else if (e.screenY < hitBox.bottom.drop && hitBox.bottom.hit) {\n      hitBox.bottom.hit = false;\n      !hitBox.top.hit && (dragOffset.y -= 1);\n    } // hit detection left & right\n\n\n    if (hitBox.left.val >= 0 && !hitBox.left.hit && hitBox.right.val <= viewport.width && !hitBox.right.hit) {\n      dragOffset.x = e.screenX - startPos.x;\n    } else if (hitBox.left.val <= 0 && !hitBox.left.hit) {\n      !hitBox.right.hit && (hitBox.left.hit = true);\n      hitBox.left.drop = e.screenX;\n    } else if (e.screenX > hitBox.left.drop && hitBox.left.hit) {\n      hitBox.left.hit = false;\n      !hitBox.right.hit && (dragOffset.x += 1);\n    } else if (hitBox.right.val >= 0 && !hitBox.right.hit) {\n      !hitBox.left.hit && (hitBox.right.hit = true);\n      hitBox.right.drop = e.screenX;\n    } else if (e.screenX < hitBox.right.drop && hitBox.right.hit) {\n      hitBox.right.hit = false;\n      !hitBox.left.hit && (dragOffset.x -= 1);\n    } // logTick && console.log(`screeX:  ${e.screenX}\\n`, `dragOffsetX:  ${dragOffset.x}`);\n    // logTick && console.log(`hitRight:  ${hitBox.right.hit}\\n`, `hitLeft:  ${hitBox.left.hit}`);\n    // logTick && console.log(`leftDrop:  ${hitBox.left.drop}\\n`, `leftVal:  ${hitBox.left.val}`);\n    // logTick && console.log(`rightDrop:  ${hitBox.right.drop}\\n`, `rightVal:  ${hitBox.right.val}`, `vpHeight:  ${viewport.width}`);\n    //____________________________________________________________________________________________________________\n    // logTick && console.log(`screeY:  ${e.screenY}\\n`, `dragOffsetY:  ${dragOffset.y}`);\n    // logTick && console.log(`hitBottom:  ${hitBox.bottom.hit}\\n`, `hitTop:  ${hitBox.top.hit}`);\n    // logTick && console.log(`topDrop:  ${hitBox.top.drop}\\n`, `topVal:  ${hitBox.top.val}`);\n    // logTick && console.log(`bottomDrop:  ${hitBox.bottom.drop}\\n`, `bottomVal:  ${hitBox.bottom.val}`, `vpHeight:  ${viewport.height}`);\n    // logTick && console.log(e.screenX, hitBox.right.drop, dragOffset.x, hitBox.right.val, viewport.width, hitBox.right.hit);\n\n\n    container.style.transform = `translate3d( ${dragOffset.x}px, ${dragOffset.y}px,0 )`;\n    logTick && logTimer();\n  }\n\n  function handleMouseUp(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    window.removeEventListener('mousemove', mouseMove);\n    window.removeEventListener('mouseup', mouseUp);\n    hitBox.top.drop = 0;\n    hitBox.right.drop = viewport.width;\n    hitBox.bottom.drop = viewport.height;\n    hitBox.left.drop = 0;\n  }\n\n  function handleMouseDown(e) {\n    let container = findRealParent(e.target, 'builderContainer');\n    e.stopPropagation();\n    e.preventDefault();\n\n    mouseMove = event => handleMouseMove(event, e, container);\n\n    mouseUp = event => handleMouseUp(event, e);\n\n    window.addEventListener('mousemove', mouseMove);\n    window.addEventListener('mouseup', mouseUp);\n    startPos = {\n      x: e.screenX - dragOffset.x,\n      y: e.screenY - dragOffset.y\n    };\n  }\n\n  function handleResizeMove(e, el, container, handle, vals) {\n    if (handle === 'bottom') {\n      container.style.height = `${resizeStartValues.height + e.screenY - resizeStartValues.y}px`;\n    } else {\n      container.style.width = `${resizeStartValues.width + resizeStartValues.x - e.screenX}px`;\n    } // logTick && logTimer();\n\n  }\n\n  function handleResizeEnd(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    window.removeEventListener('mousemove', resizeMove);\n    window.removeEventListener('mouseup', resizeEnd);\n  }\n\n  function handleStartResize(e) {\n    let container = findRealParent(e.target, 'builderContainer');\n    let handle = e.target.dataset.rh;\n    let box = container.getBoundingClientRect();\n    resizeStartValues = {\n      x: e.screenX,\n      y: e.screenY,\n      height: box.height,\n      width: box.width,\n      left: box.left,\n      right: box.right\n    };\n    e.stopPropagation();\n    e.preventDefault();\n\n    resizeMove = event => handleResizeMove(event, e, container, handle);\n\n    resizeEnd = event => handleResizeEnd(event, e);\n\n    window.addEventListener('mousemove', resizeMove);\n    window.addEventListener('mouseup', resizeEnd);\n  }\n\n  function minimizeBuilder(e) {\n    let container = findRealParent(e.target, 'builderContainer');\n\n    if (toggleMinimizeState === 'open') {\n      builderDims.height = container.style.height;\n      builderDims.width = container.style.width;\n      container.style.height = '';\n      container.style.width = '';\n      hitBox.top.drop = 0;\n      hitBox.right.drop = viewport.width;\n      hitBox.bottom.drop = viewport.height;\n      hitBox.left.drop = 0;\n      hitBox.top.hit = false;\n      hitBox.right.hit = false;\n      hitBox.bottom.hit = false;\n      hitBox.left.hit = false;\n      setToggleMinimize('minimized');\n    } else {\n      container.style.height = builderDims.height;\n      container.style.width = builderDims.width;\n      setToggleMinimize('open');\n    }\n  }\n\n  useEffect(() => {\n    builderHook.dispatch = setList;\n\n    window.onclick = e => {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if (e.target.dataset.zel !== 'builder' && !e.target.dataset.selected) {\n        let key = `key_${generateRandomString()}`;\n        e.target.setAttribute('data-selected', key);\n        let path = [];\n        let entry = {\n          key: [key],\n          value: e.target.innerHTML,\n          path\n        };\n        prepObj.data = entry;\n        prepArray.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `Data-Entry`,\n          \"data-zel\": \"builder\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: `Input-Field key`,\n            \"data-zcm\": entry.path,\n            \"data-zel\": \"builder\",\n            onInput: ev => handleChange(ev, entry),\n            onMouseDown: ev => setEdit(ev),\n            onBlur: ev => unsetEdit(ev),\n            children: entry.key\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `Colon`,\n            children: \":\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: `Input-Field value`,\n            \"data-zcm\": entry.path,\n            \"data-zel\": \"builder\",\n            onInput: ev => handleChange(ev, entry),\n            onMouseDown: ev => setEdit(ev),\n            onBlur: ev => unsetEdit(ev),\n            children: entry.value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 7\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 6\n        }, this));\n        setList(e.timeStamp);\n      }\n    };\n  }, []);\n\n  const handleNest = e => {\n    let path = [];\n    let key = `key_${generateRandomString()}`;\n    let entry = {\n      key: [key],\n      value: {},\n      path\n    };\n    prepObj.data = entry;\n    prepArray.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `Data-Entry`,\n      \"data-zel\": \"builder\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: `Input-Field key`,\n        \"data-zcm\": entry.path,\n        \"data-zel\": \"builder\",\n        onInput: ev => handleChange(ev, entry),\n        onMouseDown: ev => setEdit(ev),\n        onBlur: ev => unsetEdit(ev),\n        children: entry.key\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `Colon`,\n        children: \":\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 5\n      }, this)]\n    }, key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 4\n    }, this));\n    setList(e.timeStamp);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `JSON-Builder ${toggleMinimizeState}`,\n    \"data-zel\": \"builder\",\n    \"data-zmain\": \"builderContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `JSON-Builder-Header`,\n      onMouseDown: handleMouseDown,\n      \"data-zel\": \"builder\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `Builder-Minimize-Button`,\n        onClick: minimizeBuilder,\n        \"data-zel\": \"builder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `Builder-Heading-Group`,\n      \"data-zel\": \"builder\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: `Builder-Heading`,\n        \"data-zel\": \"builder\",\n        children: \"Data Collection\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `Info-Row`,\n      \"data-zel\": \"builder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `JSON-Container`,\n      \"data-zel\": \"builder\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: prepArray\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `Controller-Buttons`,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNest,\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: `{}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: `[]`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: `<-`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `JSON-Builder-Handle-Bottom stripes`,\n      onMouseDown: handleStartResize,\n      \"data-rh\": \"bottom\",\n      \"data-zel\": \"builder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `JSON-Builder-Handle-Left stripes`,\n      onMouseDown: handleStartResize,\n      \"data-rh\": \"left\",\n      \"data-zel\": \"builder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 285,\n    columnNumber: 3\n  }, this);\n};\n\n_s(JSONBuilder, \"Xl7mfW7MoSjsoPBYMTJBwmPlyv8=\");\n\n_c = JSONBuilder;\nexport default JSONBuilder;\n\nvar _c;\n\n$RefreshReg$(_c, \"JSONBuilder\");","map":{"version":3,"sources":["C:/webWork/evilcook/src/logic/jsonbuilder.jsx"],"names":["React","useState","useEffect","builderHook","handleChange","event","obj","console","log","target","dataset","zcm","innerText","setEdit","setAttribute","unsetEdit","removeAttribute","prepArray","prepObj","viewport","height","window","innerHeight","width","innerWidth","resizeStartValues","x","y","startPos","dragOffset","hitBox","top","val","drop","hit","right","bottom","left","findRealParent","el","name","realParent","parentElement","zmain","generateRandomString","Math","random","toString","substring","builderDims","logTick","logTimer","setTimeout","mouseMove","mouseUp","resizeMove","resizeEnd","JSONBuilder","toggleMinimizeState","setToggleMinimize","list","setList","handleMouseMove","e","container","stopPropagation","preventDefault","screenPos","getBoundingClientRect","screenY","screenX","style","transform","handleMouseUp","removeEventListener","handleMouseDown","addEventListener","handleResizeMove","handle","vals","handleResizeEnd","handleStartResize","rh","box","minimizeBuilder","dispatch","onclick","zel","selected","key","path","entry","value","innerHTML","data","push","ev","timeStamp","handleNest"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './jsonbuilder.css';\r\nimport './syntaxhighlight';\r\n\r\n\r\nexport const builderHook = {\r\n\r\n}\r\n\r\nconst handleChange = (event, obj) => {\r\n\tconsole.log(event.target.dataset.zcm)\r\n\tconsole.log(obj)\r\n\tobj[event.target.dataset.zcm] = event.target.innerText;\r\n}\r\n\r\nconst setEdit = (event) => {\r\n\tevent.target.setAttribute('contenteditable', '');\r\n}\r\nconst unsetEdit = (event) => {\r\n\tevent.target.removeAttribute('contenteditable');\r\n}\r\n\r\nconst prepArray = [];\r\nconst prepObj = {};\r\n\r\nvar viewport = {\r\n\theight: window.innerHeight,\r\n\twidth: window.innerWidth,\r\n}\r\n\r\nvar resizeStartValues = { x: 0, y: 0 }\r\nvar startPos = { x: 0, y: 0 }\r\nvar dragOffset = { x: 0, y: 0 }\r\nvar hitBox = {\r\n\ttop: {\r\n\t\tval: 0,\r\n\t\tdrop: 0,\r\n\t\thit: false,\r\n\t},\r\n\tright: {\r\n\t\tval: 0,\r\n\t\tdrop: 0,\r\n\t\thit: false,\r\n\t},\r\n\tbottom: {\r\n\t\tval: 0,\r\n\t\tdrop: 0,\r\n\t\thit: false,\r\n\t},\r\n\tleft: {\r\n\t\tval: 0,\r\n\t\tdrop: 0,\r\n\t\thit: false,\r\n\t}\r\n}\r\n\r\nconst findRealParent = (el, name) => {\r\n\tlet realParent = el.parentElement;\r\n\twhile ( realParent.dataset.zmain !== name ) {\r\n\t\trealParent = realParent.parentElement;\r\n\t}\r\n\treturn realParent;\r\n}\r\n\r\nconst generateRandomString = () => {\r\n\treturn Math.random().toString(36).substring(2, 15);\r\n\t// + Math.random().toString(36).substring(2, 15)\r\n}\r\n\r\nconst builderDims = {\r\n\theight: 0,\r\n\twidth: 0,\r\n}\r\n\r\nlet logTick = true;\r\nconst logTimer = () => {\r\n\tlogTick = false;\r\n\tsetTimeout(()=>{\r\n\t\tlogTick = true;\r\n\t}, 200);\r\n}\r\nvar mouseMove, mouseUp, resizeMove, resizeEnd;\r\nconst JSONBuilder = () => {\r\n\tconst [ toggleMinimizeState, setToggleMinimize ] = useState('open')\r\n\tconst [ list, setList ] = useState(null)\r\n\r\n\tfunction handleMouseMove(e, el, container) {\r\n\t\te.stopPropagation();\r\n    e.preventDefault();\r\n\t\tlet screenPos = container.getBoundingClientRect();\r\n\t\thitBox.top.val = screenPos.top;\r\n\t\thitBox.right.val = screenPos.right;\r\n\t\thitBox.bottom.val = screenPos.bottom;\r\n\t\thitBox.left.val = screenPos.left;\r\n\r\n\t\t\r\n\t\t// hit detection top & bottom\r\n\t\tif ( hitBox.top.val >= 0 && !hitBox.top.hit && hitBox.bottom.val <= viewport.height && !hitBox.bottom.hit ) {\r\n\t\t\tdragOffset.y = e.screenY - startPos.y;\r\n\t\t} else if ( hitBox.top.val <= 0 && !hitBox.top.hit ) {\r\n\t\t\t!hitBox.bottom.hit && (hitBox.top.hit = true);\r\n\t\t\thitBox.top.drop = e.screenY;\r\n\t\t} else if ( e.screenY > hitBox.top.drop && hitBox.top.hit ) {\r\n\t\t\thitBox.top.hit = false;\r\n\t\t\t!hitBox.bottom.hit && (dragOffset.y += 1);\r\n\t\t} else if ( hitBox.bottom.val >= viewport.height && !hitBox.bottom.hit ) {\r\n\t\t\t!hitBox.top.hit && (hitBox.bottom.hit = true);\r\n\t\t\thitBox.bottom.drop = e.screenY;\r\n\t\t} else if ( e.screenY < hitBox.bottom.drop && hitBox.bottom.hit ) {\r\n\t\t\thitBox.bottom.hit = false;\r\n\t\t\t!hitBox.top.hit && (dragOffset.y -= 1);\r\n\t\t}\r\n\t\t\r\n\t\t// hit detection left & right\r\n\t\tif ( hitBox.left.val >= 0 && !hitBox.left.hit && hitBox.right.val <= viewport.width && !hitBox.right.hit ) {\r\n\t\t\tdragOffset.x = e.screenX - startPos.x;\r\n\t\t} else if ( hitBox.left.val <= 0 && !hitBox.left.hit ) {\r\n\t\t\t!hitBox.right.hit && (hitBox.left.hit = true);\r\n\t\t\thitBox.left.drop = e.screenX;\r\n\t\t} else if ( e.screenX > hitBox.left.drop && hitBox.left.hit ) {\r\n\t\t\thitBox.left.hit = false;\r\n\t\t\t!hitBox.right.hit && (dragOffset.x += 1);\r\n\t\t} else if ( hitBox.right.val >= 0 && !hitBox.right.hit ) {\r\n\t\t\t!hitBox.left.hit && (hitBox.right.hit = true);\r\n\t\t\thitBox.right.drop = e.screenX;\r\n\t\t} else if ( e.screenX < hitBox.right.drop && hitBox.right.hit ) {\r\n\t\t\thitBox.right.hit = false;\r\n\t\t\t!hitBox.left.hit && (dragOffset.x -= 1);\r\n\t\t}\r\n\r\n\r\n\r\n\t\t// logTick && console.log(`screeX:  ${e.screenX}\\n`, `dragOffsetX:  ${dragOffset.x}`);\r\n\t\t// logTick && console.log(`hitRight:  ${hitBox.right.hit}\\n`, `hitLeft:  ${hitBox.left.hit}`);\r\n\t\t// logTick && console.log(`leftDrop:  ${hitBox.left.drop}\\n`, `leftVal:  ${hitBox.left.val}`);\r\n\t\t// logTick && console.log(`rightDrop:  ${hitBox.right.drop}\\n`, `rightVal:  ${hitBox.right.val}`, `vpHeight:  ${viewport.width}`);\r\n\t\t//____________________________________________________________________________________________________________\r\n\t\t// logTick && console.log(`screeY:  ${e.screenY}\\n`, `dragOffsetY:  ${dragOffset.y}`);\r\n\t\t// logTick && console.log(`hitBottom:  ${hitBox.bottom.hit}\\n`, `hitTop:  ${hitBox.top.hit}`);\r\n\t\t// logTick && console.log(`topDrop:  ${hitBox.top.drop}\\n`, `topVal:  ${hitBox.top.val}`);\r\n\t\t// logTick && console.log(`bottomDrop:  ${hitBox.bottom.drop}\\n`, `bottomVal:  ${hitBox.bottom.val}`, `vpHeight:  ${viewport.height}`);\r\n\t\t\r\n\r\n\r\n\r\n\t\t// logTick && console.log(e.screenX, hitBox.right.drop, dragOffset.x, hitBox.right.val, viewport.width, hitBox.right.hit);\r\n\t\t\r\n    \r\n\t\tcontainer.style.transform = `translate3d( ${ dragOffset.x }px, ${ dragOffset.y }px,0 )`;\r\n\t\tlogTick && logTimer();\r\n  }\r\n\r\n  function handleMouseUp(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\t\twindow.removeEventListener( 'mousemove', mouseMove );\r\n\t\twindow.removeEventListener( 'mouseup', mouseUp );\r\n\t\thitBox.top.drop = 0;\r\n\t\thitBox.right.drop = viewport.width;\r\n\t\thitBox.bottom.drop = viewport.height;\r\n\t\thitBox.left.drop = 0;\r\n  }\r\n\r\n  function handleMouseDown(e) {\r\n\t\tlet container = findRealParent(e.target, 'builderContainer');\r\n\t\te.stopPropagation();\r\n    e.preventDefault();\r\n\t\tmouseMove = (event) => handleMouseMove(event, e, container);\r\n\t\tmouseUp = (event) => handleMouseUp(event, e);\r\n\t\twindow.addEventListener( 'mousemove', mouseMove );\r\n\t\twindow.addEventListener( 'mouseup', mouseUp );\r\n\t\tstartPos = {\r\n\t\t\tx: e.screenX - dragOffset.x,\r\n\t\t\ty: e.screenY - dragOffset.y,\r\n\t\t}\r\n  }\r\n\r\n\tfunction handleResizeMove(e, el, container, handle, vals) {\r\n\t\tif ( handle === 'bottom' ) {\r\n\t\t\tcontainer.style.height = `${resizeStartValues.height + e.screenY - resizeStartValues.y}px`;\r\n\t\t} else {\r\n\t\t\tcontainer.style.width = `${resizeStartValues.width + resizeStartValues.x - e.screenX}px`;\r\n\t\t}\r\n\r\n\t\t// logTick && logTimer();\r\n\t}\r\n\r\n\tfunction handleResizeEnd(e) {\r\n\t\te.stopPropagation();\r\n    e.preventDefault();\r\n\t\twindow.removeEventListener( 'mousemove', resizeMove );\r\n\t\twindow.removeEventListener( 'mouseup', resizeEnd );\r\n\t}\r\n\r\n\tfunction handleStartResize(e) {\r\n\t\tlet container = findRealParent(e.target, 'builderContainer');\r\n\t\t\r\n\t\tlet handle = e.target.dataset.rh;\r\n\t\tlet box = container.getBoundingClientRect();\r\n\t\tresizeStartValues = {\r\n\t\t\tx: e.screenX,\r\n\t\t\ty: e.screenY,\r\n\t\t\theight: box.height,\r\n\t\t\twidth: box.width,\r\n\t\t\tleft: box.left,\r\n\t\t\tright: box.right,\r\n\t\t}\r\n\t\te.stopPropagation();\r\n    e.preventDefault();\r\n\t\tresizeMove = (event) => handleResizeMove(event, e, container, handle);\r\n\t\tresizeEnd = (event) => handleResizeEnd(event, e);\r\n\t\twindow.addEventListener( 'mousemove', resizeMove );\r\n\t\twindow.addEventListener( 'mouseup', resizeEnd );\r\n\t\t\r\n\t}\r\n\r\n\tfunction minimizeBuilder(e) {\r\n\t\tlet container = findRealParent(e.target, 'builderContainer');\r\n\r\n\t\tif ( toggleMinimizeState === 'open' ) {\r\n\t\t\tbuilderDims.height = container.style.height;\r\n\t\t\tbuilderDims.width = container.style.width;\r\n\t\t\tcontainer.style.height = '';\r\n\t\t\tcontainer.style.width = '';\r\n\t\t\thitBox.top.drop = 0;\r\n\t\t\thitBox.right.drop = viewport.width;\r\n\t\t\thitBox.bottom.drop = viewport.height;\r\n\t\t\thitBox.left.drop = 0;\r\n\t\t\thitBox.top.hit = false;\r\n\t\t\thitBox.right.hit = false;\r\n\t\t\thitBox.bottom.hit = false;\r\n\t\t\thitBox.left.hit = false;\r\n\t\t\tsetToggleMinimize('minimized');\r\n\t\t} else {\r\n\t\t\tcontainer.style.height = builderDims.height;\r\n\t\t\tcontainer.style.width = builderDims.width;\r\n\t\t\tsetToggleMinimize('open');\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tbuilderHook.dispatch = setList;\r\n\t\twindow.onclick = (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif ( e.target.dataset.zel !== 'builder' && !e.target.dataset.selected ) {\r\n\t\t\t\tlet key = `key_${generateRandomString()}`;\r\n\t\t\t\te.target.setAttribute('data-selected', key);\r\n\r\n\t\t\t\tlet path = [];\r\n\t\t\t\tlet entry = { key: [key], value: e.target.innerHTML, path }\r\n\t\t\t\tprepObj.data = entry;\r\n\t\t\t\t\r\n\t\t\t\tprepArray.push(\r\n\t\t\t\t\t<div key={ key } className={ `Data-Entry` } data-zel=\"builder\">\r\n\t\t\t\t\t\t<h3 className={ `Input-Field key` } data-zcm={ entry.path } data-zel=\"builder\" onInput={ (ev)=>handleChange(ev, entry) } onMouseDown={ (ev)=>setEdit(ev) } onBlur={ (ev)=>unsetEdit(ev) }>{ entry.key }</h3>\r\n\t\t\t\t\t\t<div className={ `Colon` }>:</div>\r\n\t\t\t\t\t\t<h3 className={ `Input-Field value` } data-zcm={ entry.path } data-zel=\"builder\" onInput={ (ev)=>handleChange(ev, entry) } onMouseDown={ (ev)=>setEdit(ev) } onBlur={ (ev)=>unsetEdit(ev) }>{ entry.value }</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t\tsetList(e.timeStamp);\r\n\t\t\t}\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst handleNest = (e) => {\r\n\t\tlet path = [];\r\n\t\tlet key = `key_${generateRandomString()}`;\r\n\r\n\t\tlet entry = { key: [key], value: {}, path }\r\n\t\tprepObj.data = entry;\r\n\r\n\t\tprepArray.push(\r\n\t\t\t<div key={ key } className={ `Data-Entry` } data-zel=\"builder\">\r\n\t\t\t\t<h3 className={ `Input-Field key` } data-zcm={ entry.path } data-zel=\"builder\" onInput={ (ev)=>handleChange(ev, entry) } onMouseDown={ (ev)=>setEdit(ev) } onBlur={ (ev)=>unsetEdit(ev) }>{ entry.key }</h3>\r\n\t\t\t\t<div className={ `Colon` }>:</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\tsetList(e.timeStamp);\r\n\t}\r\n\r\n\treturn(\r\n\t\t<div className={ `JSON-Builder ${ toggleMinimizeState }` } data-zel=\"builder\" data-zmain=\"builderContainer\">\r\n\t\t\t<div className={ `JSON-Builder-Header` } onMouseDown={ handleMouseDown } data-zel=\"builder\">\r\n\t\t\t\t<button className={ `Builder-Minimize-Button` } onClick={ minimizeBuilder } data-zel=\"builder\"></button>\r\n\t\t\t</div>\r\n\t\t\t<div className={ `Builder-Heading-Group` } data-zel=\"builder\">\r\n\t\t\t\t<h1 className={ `Builder-Heading` } data-zel=\"builder\">Data Collection</h1>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div className={ `Info-Row` } data-zel=\"builder\"></div>\r\n\r\n\t\t\t{/* <div className={ `JSON-Builder-Handle-Right` } onMouseDown={ handleStartResize } data-rh=\"right\"></div> */}\r\n\t\t\t<div className={ `JSON-Container` } data-zel=\"builder\">\r\n\t\t\t\t<div>\r\n\t\t\t\t{ prepArray }\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={ `Controller-Buttons` }>\r\n\t\t\t\t\t<button onClick={ handleNest }><h3>{ `{}` }</h3></button>\r\n\t\t\t\t\t<button><h3>{ `[]` }</h3></button>\r\n\t\t\t\t\t<button><h3>{ `<-` }</h3></button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={ `JSON-Builder-Handle-Bottom stripes` } onMouseDown={ handleStartResize } data-rh=\"bottom\" data-zel=\"builder\"></div>\r\n\t\t\t<div className={ `JSON-Builder-Handle-Left stripes` } onMouseDown={ handleStartResize } data-rh=\"left\" data-zel=\"builder\"></div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default JSONBuilder;"]},"metadata":{},"sourceType":"module"}