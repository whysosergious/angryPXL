{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\webWork\\\\evilcook\\\\src\\\\logic\\\\jsonbuilder.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport './jsonbuilder.css';\nvar inputPos = {\n  x: 0,\n  y: 0\n};\nvar inputOffset = {\n  x: 0,\n  y: 0\n};\n\nconst JSONBuilder = props => {\n  _s();\n\n  const [isDragging, setIsDragging] = useState(false);\n  const [pos, setPos] = useState({\n    x: 0,\n    y: 0\n  });\n  const ref = useRef(null);\n\n  function onMouseMove(e) {\n    if (!isDragging) return;\n    setPos({\n      x: e.x - ref.current.offsetWidth / 2,\n      y: e.y - ref.current.offsetHeight / 2\n    });\n    e.stopPropagation();\n    e.preventDefault();\n    console.log(setPos);\n  }\n\n  function onMouseUp(e) {\n    setIsDragging(false);\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  function onMouseDown(e) {\n    if (e.button !== 0) return;\n    setIsDragging(true);\n    setPos({\n      x: e.x - ref.current.offsetWidth / 2,\n      y: e.y - ref.current.offsetHeight / 2\n    });\n    e.stopPropagation();\n    e.preventDefault();\n  } // When the element mounts, attach an mousedown listener\n\n\n  useEffect(() => {\n    ref.current.addEventListener(\"mousedown\", onMouseDown);\n    return () => {\n      ref.current.removeEventListener(\"mousedown\", onMouseDown);\n    };\n  }, [ref.current]); // Everytime the isDragging state changes, assign or remove\n  // the corresponding mousemove and mouseup handlers\n\n  useEffect(() => {\n    if (isDragging) {\n      document.addEventListener(\"mouseup\", onMouseUp);\n      document.addEventListener(\"mousemove\", onMouseMove);\n    } else {\n      document.removeEventListener(\"mouseup\", onMouseUp);\n      document.removeEventListener(\"mousemove\", onMouseMove);\n    }\n\n    return () => {\n      document.removeEventListener(\"mouseup\", onMouseUp);\n      document.removeEventListener(\"mousemove\", onMouseMove);\n    };\n  }, [isDragging]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `JSON-Builder`,\n    onMouseDown: onMouseDown,\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 3\n  }, this);\n};\n\n_s(JSONBuilder, \"49XC3f82C9hx3W/cSWDhfceusA4=\");\n\n_c = JSONBuilder;\nexport default JSONBuilder;\n\nvar _c;\n\n$RefreshReg$(_c, \"JSONBuilder\");","map":{"version":3,"sources":["C:/webWork/evilcook/src/logic/jsonbuilder.jsx"],"names":["React","useEffect","useState","useRef","inputPos","x","y","inputOffset","JSONBuilder","props","isDragging","setIsDragging","pos","setPos","ref","onMouseMove","e","current","offsetWidth","offsetHeight","stopPropagation","preventDefault","console","log","onMouseUp","onMouseDown","button","addEventListener","removeEventListener","document"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport './jsonbuilder.css';\r\n\r\nvar inputPos = { x: 0, y: 0 }\r\nvar inputOffset = { x: 0, y: 0 }\r\nconst JSONBuilder = props => {\r\n\tconst [isDragging, setIsDragging] = useState(false);\r\n  const [pos, setPos] = useState({ x: 0, y: 0 });\r\n\tconst ref = useRef(null);\r\n\t\r\n\t\tfunction onMouseMove(e) {\r\n\t\t\tif (!isDragging) return;\r\n\t\t\tsetPos({\r\n\t\t\t\tx: e.x - ref.current.offsetWidth / 2,\r\n\t\t\t\ty: e.y - ref.current.offsetHeight / 2,\r\n\t\t\t});\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tconsole.log(setPos)\r\n\t\t}\r\n\t\r\n\t\tfunction onMouseUp(e) {\r\n\t\t\tsetIsDragging(false);\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t\r\n\t\tfunction onMouseDown(e) {\r\n\t\t\tif (e.button !== 0) return;\r\n\t\t\tsetIsDragging(true);\r\n\t\r\n\t\t\tsetPos({\r\n\t\t\t\tx: e.x - ref.current.offsetWidth / 2,\r\n\t\t\t\ty: e.y - ref.current.offsetHeight / 2,\r\n\t\t\t});\r\n\t\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t\r\n\t\t// When the element mounts, attach an mousedown listener\r\n\t\tuseEffect(() => {\r\n\t\t\tref.current.addEventListener(\"mousedown\", onMouseDown);\r\n\t\r\n\t\t\treturn () => {\r\n\t\t\t\tref.current.removeEventListener(\"mousedown\", onMouseDown);\r\n\t\t\t};\r\n\t\t}, [ref.current]);\r\n\t\r\n\t\t// Everytime the isDragging state changes, assign or remove\r\n\t\t// the corresponding mousemove and mouseup handlers\r\n\t\tuseEffect(() => {\r\n\t\t\tif (isDragging) {\r\n\t\t\t\tdocument.addEventListener(\"mouseup\", onMouseUp);\r\n\t\t\t\tdocument.addEventListener(\"mousemove\", onMouseMove);\r\n\t\t\t} else {\r\n\t\t\t\tdocument.removeEventListener(\"mouseup\", onMouseUp);\r\n\t\t\t\tdocument.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\t\t}\r\n\t\t\treturn () => {\r\n\t\t\t\tdocument.removeEventListener(\"mouseup\", onMouseUp);\r\n\t\t\t\tdocument.removeEventListener(\"mousemove\", onMouseMove);\r\n\t\t\t};\r\n\t\t}, [isDragging]);\r\n\r\n\treturn(\r\n\t\t<div className={ `JSON-Builder` } onMouseDown={ onMouseDown } ref={ ref }>\r\n\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default JSONBuilder;"]},"metadata":{},"sourceType":"module"}